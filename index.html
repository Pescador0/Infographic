<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infographic: AI voor Politie Intelligence</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #EFF6FF; /* Lightest Blue from Brilliant Blues palette */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .kpi-number {
            font-weight: 900;
            color: #2563EB; /* Bright Blue */
            line-height: 1;
        }
        .flow-arrow {
            color: #60A5FA;
            font-size: 2rem;
            line-height: 1;
        }
        .gemini-output {
            white-space: pre-wrap;
            background-color: #F9FAFB;
            border: 1px solid #E5E7EB;
            border-radius: 0.5rem;
            padding: 1rem;
            min-height: 150px;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3B82F6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-7xl">
        
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-extrabold text-blue-900 mb-2">AI voor Intelligence</h1>
            <p class="text-lg text-blue-800 max-w-3xl mx-auto">Analyse & Inzicht: de potentie van AI voor het duiden van complexe dreigingen en de ethische waarborgen voor de inlichtingenketen.</p>
        </header>

        <main class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

            <div class="lg:col-span-3 bg-white rounded-lg shadow-md p-6">
                <h2 class="text-2xl font-bold text-blue-900 mb-4">De Kans: Versnelde Inlichtingenpositie ðŸš€</h2>
                <p class="text-blue-800 mb-6">AI biedt de mogelijkheid om in een overweldigende hoeveelheid data patronen, netwerken en dreigingsindicatoren te herkennen die voorheen onzichtbaar bleven. Dit kan de informatiepositie over zware criminaliteit, terrorisme en radicalisering significant versterken.</p>
            </div>

            <div class="bg-white rounded-lg shadow-md p-6 flex flex-col justify-center items-center text-center">
                 <h3 class="text-xl font-bold text-blue-900 mb-2">Analyse van OSINT-bronnen</h3>
                 <p class="kpi-number text-7xl md:text-8xl">80%</p>
                 <p class="text-blue-800 mt-2">snellere verwerking van open-source intelligence (social media, fora, nieuws) voor het identificeren van relevante dreigingsinformatie.</p>
            </div>

            <div class="md:col-span-2 bg-white rounded-lg shadow-md p-6">
                <h3 class="text-xl font-bold text-blue-900 mb-2">Potentie voor Kerntaken Intelligence</h3>
                <p class="text-blue-800 mb-4">AI kan specifieke intelligence-taken ondersteunen. De grafiek toont de ingeschatte potentie per taakgebied, van netwerkanalyse tot het duiden van fenomenen.</p>
                <div class="chart-container h-64 md:h-auto">
                    <canvas id="impactChart"></canvas>
                </div>
            </div>
            
            <!-- Gemini API Interactive Section -->
            <div class="lg:col-span-3 bg-white rounded-lg shadow-md p-6">
                <h2 class="text-2xl font-bold text-blue-900 mb-4">ðŸ¤– AI Analyse Lab</h2>
                <p class="text-blue-800 mb-4">Voer hieronder een hypothetisch, kort scenario in en zie hoe AI kan helpen bij zowel de analyse als de ethische reflectie. Dit is een demonstratie en de output is gegenereerd door een AI.</p>
                
                <textarea id="scenarioInput" class="w-full p-2 border border-gray-300 rounded-lg mb-4" rows="3" placeholder="Bijv: Een anonieme online groep roept op tot een 'verrassingsprotest' bij een overheidsgebouw. De toon wordt steeds grimmiger."></textarea>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <button id="generateAnalysisBtn" class="w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors">
                            âœ¨ Genereer Dreigingsanalyse
                        </button>
                        <div id="analysisLoader" class="loader hidden"></div>
                        <div id="analysisOutput" class="gemini-output mt-4">Voer een scenario in en klik op de knop om een dreigingsanalyse te genereren.</div>
                    </div>
                    <div>
                        <button id="generateEthicsBtn" class="w-full bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors">
                            âœ¨ Genereer Ethische Overwegingen
                        </button>
                         <div id="ethicsLoader" class="loader hidden"></div>
                        <div id="ethicsOutput" class="gemini-output mt-4">Voer een scenario in en klik op de knop om de ethische overwegingen te genereren.</div>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-3 bg-blue-900 rounded-lg shadow-md p-6 mt-8">
                <h2 class="text-2xl font-bold text-white mb-4">De Waarborg: Ethiek in de Inlichtingenketen ðŸ¤”</h2>
                <p class="text-blue-200 mb-6">Het gebruik van AI in de intelligence-context raakt de kern van de rechtsstaat. De focus ligt niet alleen op effectiviteit, maar vooral op rechtmatigheid, proportionaliteit en het voorkomen van onterechte verdenkingen.</p>
            </div>
            
            <div class="md:col-span-2 bg-white rounded-lg shadow-md p-6">
                <h3 class="text-xl font-bold text-blue-900 mb-2">Implementatie: Datahonger vs. Rechtsstaat</h3>
                <p class="text-blue-800 mb-6">De invoering van AI kan twee routes volgen: een die primair gedreven wordt door maximale dataverzameling, en een die wordt begrensd door de principes van de rechtsstaat.</p>
                <div class="flex flex-col md:flex-row justify-around items-center space-y-8 md:space-y-0 md:space-x-8">
                    <div class="text-center p-4 border-2 border-blue-500 rounded-lg w-full">
                        <h4 class="font-bold text-blue-800">Data-gedreven Route</h4>
                        <p class="text-sm text-blue-700">Focus op maximale dataverzameling</p>
                        <div class="flow-arrow mt-2 mb-2">â†“</div>
                        <p class="font-semibold bg-blue-100 rounded p-2">Allesomvattende analyse</p>
                         <div class="flow-arrow mt-2 mb-2">â†“</div>
                        <p class="text-sm text-red-600">Risico op 'guilt by association' & bias</p>
                    </div>
                     <div class="text-center p-4 border-2 border-green-500 rounded-lg w-full">
                        <h4 class="font-bold text-green-800">Rechtsstatelijke Route</h4>
                        <p class="text-sm text-green-700">Focus op rechtmatigheid & proportionaliteit</p>
                        <div class="flow-arrow mt-2 mb-2 text-green-500">â†“</div>
                        <p class="font-semibold bg-green-100 rounded p-2">Getoetste en doelgerichte analyse</p>
                        <div class="flow-arrow mt-2 mb-2 text-green-500">â†“</div>
                        <p class="text-sm text-green-600">Betrouwbare en legitieme intelligence</p>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-xl font-bold text-blue-900 mb-2">Kernrisico's voor Intelligence</h3>
                <p class="text-blue-800 mb-4">Het debat over AI voor intelligence spitst zich toe op een aantal fundamentele risico's voor de burger en de rechtsstaat.</p>
                 <div class="chart-container h-64 md:h-auto">
                    <canvas id="concernsChart"></canvas>
                </div>
            </div>

            <div class="lg:col-span-3 bg-white rounded-lg shadow-md p-8 text-center">
                <blockquote class="text-2xl italic text-blue-900 max-w-3xl mx-auto">
                    "De vraag is niet Ã³f een algoritme een patroon vindt, maar Ã³f we kunnen verantwoorden waarom dat patroon als een risico wordt gezien."
                </blockquote>
            </div>

        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            const brilliantBlues = {
                primary: '#2563EB',
                secondary: '#3B82F6',
                accent1: '#60A5FA',
                accent2: '#93C5FD',
                textDark: '#1E3A8A',
            };

            function wrapLabels(label, maxWidth) {
                const words = label.split(' ');
                let lines = [];
                let currentLine = '';

                words.forEach(word => {
                    if ((currentLine + ' ' + word).length > maxWidth && currentLine.length > 0) {
                        lines.push(currentLine);
                        currentLine = word;
                    } else {
                        currentLine += (currentLine.length === 0 ? '' : ' ') + word;
                    }
                });
                lines.push(currentLine);
                return lines;
            }

            const tooltipTitleCallback = {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                      return label.join(' ');
                    }
                    return label;
                }
            };
            
            const impactCtx = document.getElementById('impactChart').getContext('2d');
            new Chart(impactCtx, {
                type: 'bar',
                data: {
                    labels: ['Herkennen van criminele netwerken', 'Analyse van online radicalisering', 'Voorspellen van openbare orde risicos', 'Identificeren van dreigingsindicatoren'].map(l => wrapLabels(l, 16)),
                    datasets: [{
                        label: 'Ingeschatte Potentie',
                        data: [90, 80, 65, 75],
                        backgroundColor: brilliantBlues.secondary,
                        borderColor: brilliantBlues.primary,
                        borderWidth: 1,
                        borderRadius: 5,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    scales: { x: { beginAtZero: true, grid: { display: false }, ticks: { color: brilliantBlues.textDark } }, y: { grid: { display: false }, ticks: { color: brilliantBlues.textDark } } },
                    plugins: { legend: { display: false }, tooltip: { callbacks: tooltipTitleCallback } }
                }
            });

            const concernsCtx = document.getElementById('concernsChart').getContext('2d');
            new Chart(concernsCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Vooringenomenheid (Bias) in Data', 'Spanning met Grondrechten', 'Black Box & Uitlegbaarheid', 'Toerekenbaarheid van Besluiten', 'Menselijke Verantwoordelijkheid'].map(l => wrapLabels(l, 16)),
                    datasets: [{
                        label: 'Verdeling van Risico\'s',
                        data: [30, 25, 25, 15, 5],
                        backgroundColor: [ brilliantBlues.primary, brilliantBlues.secondary, brilliantBlues.accent1, brilliantBlues.accent2, '#D1E2FF' ],
                        borderColor: '#EFF6FF',
                        borderWidth: 3,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'right' }, tooltip: { callbacks: tooltipTitleCallback } }
                }
            });

            // Gemini API Integration
            const scenarioInput = document.getElementById('scenarioInput');
            const generateAnalysisBtn = document.getElementById('generateAnalysisBtn');
            const generateEthicsBtn = document.getElementById('generateEthicsBtn');
            const analysisOutput = document.getElementById('analysisOutput');
            const ethicsOutput = document.getElementById('ethicsOutput');
            const analysisLoader = document.getElementById('analysisLoader');
            const ethicsLoader = document.getElementById('ethicsLoader');

            async function callGemini(prompt) {
                const apiKey = "AIzaSyAxSJTBJFU-LmzUmnPyga2o_CVL5rtST6s";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const payload = {
                    contents: [{
                        role: "user",
                        parts: [{ text: prompt }]
                    }]
                };

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`API verzoek mislukt met status: ${response.status}`);
                    }

                    const result = await response.json();
                    
                    if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {
                        return result.candidates[0].content.parts[0].text;
                    } else {
                        console.error("Unexpected API response structure:", result);
                        return "Fout: Kon geen valide antwoord van de AI ontvangen. De structuur van het antwoord was onverwacht.";
                    }
                } catch (error) {
                    console.error("Error calling Gemini API:", error);
                    return `Fout bij het aanroepen van de AI: ${error.message}. Controleer de console voor details.`;
                }
            }

            generateAnalysisBtn.addEventListener('click', async () => {
                const scenario = scenarioInput.value;
                if (!scenario.trim()) {
                    analysisOutput.textContent = "Voer eerst een scenario in.";
                    return;
                }
                
                analysisLoader.classList.remove('hidden');
                analysisOutput.classList.add('hidden');
                
                const prompt = `Je bent een ervaren intelligence analist bij de Nederlandse politie. Gegeven het volgende scenario: "${scenario}". 
                Genereer een beknopte, gestructureerde dreigingsanalyse. Behandel de volgende punten in je antwoord:
                1.  **Mogelijke Indicatoren:** Welke signalen wijzen op een mogelijke escalatie?
                2.  **Kernvragen:** Welke vragen moet een analist nu stellen om het beeld scherper te krijgen?
                3.  **Aanvullende Zoektermen (OSINT):** Welke gerelateerde termen zouden gemonitord kunnen worden?
                Sluit af met de nadrukkelijke disclaimer dat dit een AI-gegenereerde analyse is en altijd menselijke validatie en context vereist.`;
                
                const result = await callGemini(prompt);
                analysisOutput.textContent = result;
                analysisLoader.classList.add('hidden');
                analysisOutput.classList.remove('hidden');
            });

            generateEthicsBtn.addEventListener('click', async () => {
                const scenario = scenarioInput.value;
                if (!scenario.trim()) {
                    ethicsOutput.textContent = "Voer eerst een scenario in.";
                    return;
                }

                ethicsLoader.classList.remove('hidden');
                ethicsOutput.classList.add('hidden');

                const prompt = `Je bent een ethisch adviseur en expert op het gebied van grondrechten, werkzaam voor de Nederlandse politie. Gegeven het volgende scenario: "${scenario}".
                Genereer een beknopte analyse van de belangrijkste ethische en juridische overwegingen. Behandel de volgende punten:
                1.  **Grondrechten in het Geding:** Welke fundamentele rechten van burgers staan hier mogelijk onder druk?
                2.  **Risico op Bias:** Waar liggen de risico's op vooringenomenheid (bias) bij het verzamelen en analyseren van data in dit scenario?
                3.  **Proportionaliteits- en Subsidiariteitstoets:** Welke vragen moeten gesteld worden om te zorgen dat de inzet van middelen proportioneel en subsidiair is?
                Sluit af met een aanbeveling over de noodzaak van menselijke controle en toezicht.`;
                
                const result = await callGemini(prompt);
                ethicsOutput.textContent = result;
                ethicsLoader.classList.add('hidden');
                ethicsOutput.classList.remove('hidden');
            });

        });
    </script>

</body>
</html>
